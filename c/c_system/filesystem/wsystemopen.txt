int fd;
fd = open("aa.txt",O_RDONLY);

fd只是一个整数,在open时产生,起到索引作用!

进程通过PCB中的文件描述符表找到该fd所指向的文件指针filp

文件描述符:open 返回的是一个文件描述符,内核会在每个进程空间中维护一个文件描述符表，所有打开的文件都将通过此表中的文件描述符来引用。

流: fopen 返回的是一个FILE结构指针，FILE结构是包含有文件描述符有，FILE结构函数可以看作 是对fd直接操作的系统调用封装，它的优点是带有I/O缓存

Linux内核在各种不同的文件系统格式之上做了一个抽象层,使得文件,目录,读写访问等概念成为抽象层的概念。

这个抽象层称为虚拟文件系统(VFS)

运行时文件系统在内核中表示:

