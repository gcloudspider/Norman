信号量:
    使用主要用来保护共享资源,使得资源在一个时刻只有一个进程(线程)所拥有


信号量:
    1.创建一个信号量
        semget(key,)
    2.初始化信号量 semctl()

    3.申请资源 semop()
    struct sembuf {
        sem_num,
        sem_op,
        sem_flg,
    }

POSIX信号量分为:
    1.有名信号量:值保存在文件中,所以它可以用于线程也可用于进程间同步。
    2.无名信号量:其值保存在内存中。

Linux提供两种信号量:
    1.内核信号量,由内核控制路径使用
    2.用户态进程使用的信号量.

内核信号量构成:
    类似自旋锁,当锁关闭着时,它不允许内核控制路径继续进行,然而,当内核控制路径试图获取内核信号量锁保护的忙资源时,相应进程就被挂起。只有在资源释放时,进程才再次变为可运行。
    只有可以睡眠的函数才能获取内核信号量;中断处理程序和可延迟函数都不能使用内核信号量


